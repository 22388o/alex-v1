# Class Diagram

<img src="http://yuml.me/diagram/scruffy/class/[IVault|+registerPool(): object; +getPool(): IPool; +registerToken(): object; +deregisterToken(): object;+getPoolTokenInfo(): object; +getPoolTokens(): object; +joinPool(); +exitPool();+swap(); +batchSwap(); +flashLoan()], [IPool|+getToken0Type(): SIP-010-Token; +getToken1Type(): SIP-010-Token; +getVault(); +getPoolId(); +onJoinPool(); +onExitPool(); +onSwap()], [IPool]-[note: Interface abstracting AMM pool logic{bg:wheat}], [ILiquidatable| +liquidate(): bool; +getCollateralRatio():float; +getLiquidationTrigger(): float; +getLiquidationPenalty(): float],[IEquation|+getOutGivenIn(): int; +getInGivenOut(): int; +getInGivenPrice(): int;+getPTOutGivenIn(): int; +getInGivenPTOut(): int;+getOutGivenPTIn(): int],[IEquation]-[note: Interface abstracting AMM equation logic{bg:wheat}], [IEquation]^-.-[ayToken/Token Equation], [IEquation]^-.-[ayToken/Collateral Equation], [ILiquidatable]^-.-[ayBTC-Jun2022/STX Pool], [IVault]^-.-[Vault],[Vault]-[note: Holds all token balances{bg:wheat}], [IPool]<Pool ID-registerPool();registerToken()>[Vault],[IPool]^-.-[ayBTC-Jun2022/STX Pool], [IPool]^-.-[ayBTC-Jun2022/BTC Pool], [ayToken/Token Equation]<-[ayBTC-Jun2022/BTC Pool], [ayToken/Collateral Equation]<-[ayBTC-Jun2022/STX Pool], [IOracle|+getPrice(): int]^-.-[BTC Oracle], [IOracle]^-.-[STX Oracle], [ayBTC-Jun2022/STX Pool]->[BTC Oracle], [ayBTC-Jun2022/STX Pool]->[STX Oracle], [ayBTC-Jun2022/BTC Pool]->[BTC Oracle], [IPoolToken]^-.-[ayBTC-Jun2022/STX Pool], [IPoolToken]^-.-[ayBTC-Jun2022/BTC Pool], [SIP-010-Token]^-.-[ayBTC-Jun2022], [ayBTC-Jun2022]<-[ayBTC-Jun2022/STX Pool], [ayBTC-Jun2022]<-[ayBTC-Jun2022/BTC Pool], [IFlashLoanRecipient|+receiveFlashLoan()], [ILiquidator|+liquidate()]">

