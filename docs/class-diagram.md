# Class Diagram

![](http://yuml.me/diagram/scruffy/class/[IVault|+getInternalBalance%28%29:%20int;+managerUserBalance%28%29:%20bool;%20+registerPool%28%29:%20object;%20+getPool%28%29:%20IPool;%20+registerToken%28%29:%20object;%20+deregisterToken%28%29:%20object;+getPoolTokenInfo%28%29:%20object;%20+getPoolTokens%28%29:%20object;%20+joinPool%28%29;%20+exitPool%28%29;+swap%28%29;%20+batchSwap%28%29;%20+flashLoan%28%29],[IPool|+getTokenType%28%29:%20SIP-010-Token;%20+getCollateralType%28%29:%20SIP-010-Token;+getCollateralRatio%28%29:float;+getLiquidationTrigger%28%29:%20float;%20+getLiquidationPenalty%28%29:%20float;%20+liquidate%28%29:%20bool;%20+getVault%28%29;%20+getPoolId%28%29;+onJoinPool%28%29;+onExitPool%28%29;+onSwap%28%29],[IPool]-[note:%20Interface%20abstracting%20AMM%20pool%20logic{bg:wheat}],[IEquation|+getOutGivenIn%28%29:%20int;%20+getInGivenOut%28%29:%20int;%20+getInGivenPrice%28%29:%20int;+getPTOutGivenIn%28%29:%20int;%20+getInGivenPTOut%28%29:%20int;+getOutGivenPTIn%28%29:%20int],[IEquation]-[note:%20Interface%20abstracting%20AMM%20equation%20logic{bg:wheat}],[IEquation]^-.-[ayToken/Token%20Equation],[IEquation]^-.-[ayToken/Collateral%20Equation],[IVault]^-.-[Vault],[Vault]-[note:%20Holds%20all%20token%20balances{bg:wheat}],[IPool]<Pool%20ID-registerPool%28%29;registerToken%28%29>[Vault],[IPool]^-.-[ayBTC-Jun2022/STX%20Pool],[IPool]^-.-[ayBTC-Jun2022/BTC%20Pool],[ayToken/Token%20Equation]<-[ayBTC-Jun2022/BTC%20Pool],[ayToken/Collateral%20Equation]<-[ayBTC-Jun2022/STX%20Pool],[IOracle|+getPrice%28%29:%20int]^-.-[BTC%20Oracle],[IOracle]^-.-[STX%20Oracle],[ayBTC-Jun2022/STX%20Pool]->[BTC%20Oracle],[ayBTC-Jun2022/STX%20Pool]->[STX%20Oracle],[ayBTC-Jun2022/BTC%20Pool]->[BTC%20Oracle],[IPoolToken]^-.-[ayBTC-Jun2022/STX%20Pool],[IPoolToken]^-.-[ayBTC-Jun2022/BTC%20Pool],[SIP-010-Token]^-.-[ayBTC-Jun2022/STX%20Pool],[SIP-010-Token]^-.-[ayBTC-Jun2022/BTC%20Pool],[SIP-010-Token]^-.-[ayBTC-Jun2022],[ayBTC-Jun2022]<-[ayBTC-Jun2022/STX%20Pool],[ayBTC-Jun2022]<-[ayBTC-Jun2022/BTC%20Pool],[IFlashLoanRecipient|+receiveFlashLoan%28%29],[ILiquidator|+liquidate%28%29])

