![image](http://yuml.me/diagram/scruffy/class/[IVault|+getInternalBalance(): int;+managerUserBalance(): bool; +registerPool(): object; +getPool(): IPool; +registerToken(): object; +deregisterToken(): object;+getPoolTokenInfo(): object; +getPoolTokens(): object; +joinPool(); +exitPool();+swap(); +batchSwap(); +flashLoan()],[IPool|+getTokenType(): SIP-010-Token; +getCollateralType(): SIP-010-Token;+getCollateralRatio():float;+getLiquidationTrigger(): float; +getLiquidationPenalty(): float; +liquidate(): bool; +getVault(); +getPoolId();+onJoinPool();+onExitPool();+onSwap()],[IPool]-[note: Interface abstracting AMM pool logic{bg:wheat}],[IEquation|+getOutGivenIn(): int; +getInGivenOut(): int; +getInGivenPrice(): int;+getPTOutGivenIn(): int; +getInGivenPTOut(): int;+getOutGivenPTIn(): int],[IEquation]-[note: Interface abstracting AMM equation logic{bg:wheat}],[IEquation]^-.-[ayToken/Token Equation],[IEquation]^-.-[ayToken/Collateral Equation],[IVault]^-.-[Vault],[Vault]-[note: Holds all token balances{bg:wheat}],[IPool]<Pool ID-registerPool();registerToken()>[Vault],[IPool]^-.-[ayBTC-Jun2022/STX Pool],[IPool]^-.-[ayBTC-Jun2022/BTC Pool],[ayToken/Token Equation]<-[ayBTC-Jun2022/BTC Pool],[ayToken/Collateral Equation]<-[ayBTC-Jun2022/STX Pool],[IOracle|+getPrice(): int]^-.-[BTC Oracle],[IOracle]^-.-[STX Oracle],[ayBTC-Jun2022/STX Pool]->[BTC Oracle],[ayBTC-Jun2022/STX Pool]->[STX Oracle],[ayBTC-Jun2022/BTC Pool]->[BTC Oracle],[IPoolToken]^-.-[ayBTC-Jun2022/STX Pool],[IPoolToken]^-.-[ayBTC-Jun2022/BTC Pool],[SIP-010-Token]^-.-[ayBTC-Jun2022/STX Pool],[SIP-010-Token]^-.-[ayBTC-Jun2022/BTC Pool],[SIP-010-Token]^-.-[ayBTC-Jun2022],[ayBTC-Jun2022]<-[ayBTC-Jun2022/STX Pool],[ayBTC-Jun2022]<-[ayBTC-Jun2022/BTC Pool],[ILenderBorrower],[IFlashLoanRecipient],[IArbitrageur],[ILiquidator])
